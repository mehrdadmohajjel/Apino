@{
    ViewData["Title"] = "مدیریت سفارشات";
}

<div class="container-fluid p-0">
    <!-- هدر صفحه -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="fw-bold text-dark">مدیریت سفارشات فعال</h4>
        <button class="btn btn-primary btn-sm shadow-sm" id="btnRefresh">
            <i class="fas fa-sync-alt me-1"></i> به‌روزرسانی
        </button>
    </div>

    <!-- جدول -->
    <div class="card border-0 shadow-sm rounded-3">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover align-middle mb-0" id="ordersTable">
                    <thead class="bg-light text-muted">
                        <tr>
                            <th class="ps-4">شماره سفارش</th>
                            <th>مشتری</th>
                            <th>مبلغ (تومان)</th>
                            <th>تاریخ</th>
                            <th class="text-center">وضعیت فعلی</th>
                            <th class="text-end pe-4">عملیات بعدی</th>
                        </tr>
                    </thead>
                    <tbody class="border-top-0">
                        <!-- توسط JS پر می‌شود -->
                    </tbody>
                </table>
            </div>
            <!-- لودینگ -->
            <div id="loadingSpinner" class="text-center py-5 d-none">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="text-muted mt-2 small">در حال دریافت اطلاعات...</p>
            </div>
            <!-- پیام خالی بودن -->
            <div id="emptyMessage" class="text-center py-5 d-none">
                <i class="fas fa-box-open text-muted fs-1 mb-2"></i>
                <p class="text-muted">سفارش فعالی یافت نشد.</p>
            </div>
        </div>
    </div>
</div>

<!-- کانتینر برای نمایش Toast ها (پیام‌ها) -->
<div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1090" id="toastContainer">
    <!-- Toast ها اینجا تولید می‌شوند -->
</div>

@section Scripts {
    <script src="~/js/branchadmin/branchorder.js"></script>
}
